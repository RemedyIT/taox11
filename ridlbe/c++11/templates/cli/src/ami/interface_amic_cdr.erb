
// generated from <%= ridl_template_path %>

/// CDR streaming operator specializations for <%= amic_scoped_cxxname %>
TAO_CORBA::Boolean operator<< (
  TAO_OutputCDR &strm,
  TAOX11_NAMESPACE::CORBA::amic_traits<<%= scoped_cxxname %>>::ref_type _tao_objref)
{
  TAOX11_IDL::traits<TAOX11_CORBA::Object>::ref_type _x11_obj { std::move(_tao_objref) };
  return (strm << _x11_obj);
}

TAO_CORBA::Boolean operator>> (
  TAO_InputCDR &strm,
  TAOX11_NAMESPACE::CORBA::amic_traits<<%= scoped_cxxname %>>::ref_type& _tao_objref)
{
  TAO_CORBA::Object_var obj;
  if (!(strm >> obj.inout ()))
    {
      return false;
    }

  // Narrow to the right type.
  <%= scoped_proxy_cxxname %>::_ptr_type const _proxy_ptr =
    TAO_TAO::Narrow_Utils<<%= scoped_proxy_cxxtype %>>::unchecked_narrow (obj.in ());

  if (!TAO_CORBA::is_nil (_proxy_ptr))
    {
      _tao_objref = TAOX11_CORBA::make_reference<<%= amic_scoped_cxxname %>> (_proxy_ptr);
    }
  else
    {
      _tao_objref = nullptr;
    }

  return true;
}
